(()=>{"use strict";const e=window.wp.i18n,a=window.wp.blocks,l=window.wp.blockEditor,o=window.wp.components,n=window.wp.compose,t=window.wp.element,s=window.wp.hooks,i=window.wp.data,u=[{label:(0,e.__)("None","vayu-blocks"),value:"none"},{label:(0,e.__)("Back In Down","vayu-blocks"),value:"backInDown"},{label:(0,e.__)("Back In Left","vayu-blocks"),value:"backInLeft"},{label:(0,e.__)("Back In Right","vayu-blocks"),value:"backInRight"},{label:(0,e.__)("Back In Up","vayu-blocks"),value:"backInUp"},{label:(0,e.__)("Bounce","vayu-blocks"),value:"bounce"},{label:(0,e.__)("Bounce In","vayu-blocks"),value:"bounceIn"},{label:(0,e.__)("Bounce In Down","vayu-blocks"),value:"bounceInDown"},{label:(0,e.__)("Bounce In Left","vayu-blocks"),value:"bounceInLeft"},{label:(0,e.__)("Bounce In Right","vayu-blocks"),value:"bounceInRight"},{label:(0,e.__)("Bounce In Up","vayu-blocks"),value:"bounceInUp"},{label:(0,e.__)("Fade In","vayu-blocks"),value:"fadeIn"},{label:(0,e.__)("Fade In Down","vayu-blocks"),value:"fadeInDown"},{label:(0,e.__)("Fade In Down Big","vayu-blocks"),value:"fadeInDownBig"},{label:(0,e.__)("Fade In Left","vayu-blocks"),value:"fadeInLeft"},{label:(0,e.__)("Fade In Left Big","vayu-blocks"),value:"fadeInLeftBig"},{label:(0,e.__)("Fade In Right","vayu-blocks"),value:"fadeInRight"},{label:(0,e.__)("Fade In Right Big","vayu-blocks"),value:"fadeInRightBig"},{label:(0,e.__)("Fade In Up","vayu-blocks"),value:"fadeInUp"},{label:(0,e.__)("Fade In Top Left","vayu-blocks"),value:"fadeInTopLeft"},{label:(0,e.__)("Fade In Top Right","vayu-blocks"),value:"fadeInTopRight"},{label:(0,e.__)("Fade In Bottom Left","vayu-blocks"),value:"fadeInBottomLeft"},{label:(0,e.__)("Fade In Bottom Right","vayu-blocks"),value:"fadeInBottomRight"},{label:(0,e.__)("Flip","vayu-blocks"),value:"flip"},{label:(0,e.__)("Flip In X","vayu-blocks"),value:"flipInX"},{label:(0,e.__)("Flip In Y","vayu-blocks"),value:"flipInY"},{label:(0,e.__)("Rotate In","vayu-blocks"),value:"rotateIn"},{label:(0,e.__)("Rotate In Down Left","vayu-blocks"),value:"rotateInDownLeft"},{label:(0,e.__)("Rotate In Down Right","vayu-blocks"),value:"rotateInDownRight"},{label:(0,e.__)("Rotate In Up Left","vayu-blocks"),value:"rotateInUpLeft"},{label:(0,e.__)("Rotate In Up Right","vayu-blocks"),value:"rotateInUpRight"},{label:(0,e.__)("Slide In Down","vayu-blocks"),value:"slideInDown"},{label:(0,e.__)("Slide In Left","vayu-blocks"),value:"slideInLeft"},{label:(0,e.__)("Slide In Right","vayu-blocks"),value:"slideInRight"},{label:(0,e.__)("Slide In Up","vayu-blocks"),value:"slideInUp"},{label:(0,e.__)("Zoom In","vayu-blocks"),value:"zoomIn"},{label:(0,e.__)("Zoom In Down","vayu-blocks"),value:"zoomInDown"},{label:(0,e.__)("Zoom In Left","vayu-blocks"),value:"zoomInLeft"},{label:(0,e.__)("Zoom In Right","vayu-blocks"),value:"zoomInRight"},{label:(0,e.__)("Zoom In Up","vayu-blocks"),value:"zoomInUp"},{label:(0,e.__)("Roll In","vayu-blocks"),value:"rollIn"},{label:(0,e.__)("Light Speed In Right","vayu-blocks"),value:"lightSpeedInRight"},{label:(0,e.__)("Light Speed In Left","vayu-blocks"),value:"lightSpeedInLeft"},{label:(0,e.__)("Flash","vayu-blocks"),value:"flash"},{label:(0,e.__)("Pulse","vayu-blocks"),value:"pulse"},{label:(0,e.__)("Rubber Band","vayu-blocks"),value:"rubberBand"},{label:(0,e.__)("Shake X","vayu-blocks"),value:"shakeX"},{label:(0,e.__)("Shake Y","vayu-blocks"),value:"shakeY"},{label:(0,e.__)("Head Shake","vayu-blocks"),value:"headShake"},{label:(0,e.__)("Swing","vayu-blocks"),value:"swing"},{label:(0,e.__)("TaDa","vayu-blocks"),value:"tada"},{label:(0,e.__)("Wobble","vayu-blocks"),value:"wobble"},{label:(0,e.__)("Jello","vayu-blocks"),value:"jello"},{label:(0,e.__)("Heart Beat","vayu-blocks"),value:"heartBeat"},{label:(0,e.__)("Hinge","vayu-blocks"),value:"hinge"},{label:(0,e.__)("Jack In The Box","vayu-blocks"),value:"jackInTheBox"}],c=[{label:(0,e.__)("Backing","vayu-blocks"),value:"backInDown"},{label:(0,e.__)("Bouncing","vayu-blocks"),value:"bounce"},{label:(0,e.__)("Fading","vayu-blocks"),value:"fadeIn"},{label:(0,e.__)("Flipping","vayu-blocks"),value:"flip"},{label:(0,e.__)("Rotating","vayu-blocks"),value:"rotateIn"},{label:(0,e.__)("Sliding","vayu-blocks"),value:"slideInDown"},{label:(0,e.__)("Zooming","vayu-blocks"),value:"zoomIn"},{label:(0,e.__)("Rolling","vayu-blocks"),value:"rollIn"},{label:(0,e.__)("Light Speed","vayu-blocks"),value:"lightSpeedInRight"},{label:(0,e.__)("Other","vayu-blocks"),value:"flash"}],b=["backOutDown","backOutLeft","backOutRight","backOutUp","bounceOut","bounceOutDown","bounceOutLeft","bounceOutRight","bounceOutUp","fadeOut","fadeOutDown","fadeOutDownBig","fadeOutLeft","fadeOutLeftBig","fadeOutRight","fadeOutRightBig","fadeOutUp","fadeOutUpBig","fadeOutTopLeft","fadeOutTopRight","fadeOutBottomRight","fadeOutBottomLeft","flipOutX","flipOutY","lightSpeedOutRight","lightSpeedOutLeft","rotateOut","rotateOutDownLeft","rotateOutDownRight","rotateOutUpLeft","rotateOutUpRight","slideOutDown","slideOutLeft","slideOutRight","slideOutUp","zoomOut","zoomOutDown","zoomOutLeft","zoomOutRight","zoomOutUp","rollOut"],v=[{label:(0,e.__)("None","vayu-blocks"),value:"none"},{label:(0,e.__)("100 Milliseconds","vayu-blocks"),value:"delay-100ms"},{label:(0,e.__)("200 Milliseconds","vayu-blocks"),value:"delay-200ms"},{label:(0,e.__)("500 Milliseconds","vayu-blocks"),value:"delay-500ms"},{label:(0,e.__)("One Second","vayu-blocks"),value:"delay-1s"},{label:(0,e.__)("Two Second","vayu-blocks"),value:"delay-2s"},{label:(0,e.__)("Three Second","vayu-blocks"),value:"delay-3s"},{label:(0,e.__)("Four Second","vayu-blocks"),value:"delay-4s"},{label:(0,e.__)("Five Second","vayu-blocks"),value:"delay-5s"}],r=[{label:(0,e.__)("Slow","vayu-blocks"),value:"slow"},{label:(0,e.__)("Slower","vayu-blocks"),value:"slower"},{label:(0,e.__)("Default","vayu-blocks"),value:"none"},{label:(0,e.__)("Fast","vayu-blocks"),value:"fast"},{label:(0,e.__)("Faster","vayu-blocks"),value:"faster"}],d=window.ReactJSXRuntime,_=function a({animationsList:l,updateAnimation:s,currentAnimationLabel:i,setCurrentAnimationLabel:u}){const b=(0,n.useInstanceId)(a),[v,r]=(0,t.useState)(""),[_,m]=(0,t.useState)(!1),k=(e,a)=>{let l=!0;return v&&v.toLowerCase().split(" ").forEach((a=>{e.label.toLowerCase().includes(a)||(l=!1)})),l&&!_&&m(!0),l&&(0,d.jsx)(o.MenuItem,{className:i===e.label?"is-selected":"",onClick:()=>{u(e.label),s(e.value),a()},children:e.label})},p=`inspector-o-animations-control-${b}`;return(0,d.jsx)(o.BaseControl,{label:(0,e.__)("Choose Animation","vayu-blocks"),id:p,children:(0,d.jsx)(o.Dropdown,{contentClassName:"o-animations-control__popover",position:"bottom center",renderToggle:({isOpen:e,onToggle:a})=>(0,d.jsx)(o.Button,{className:"o-animations-control__button",id:p,onClick:a,"aria-expanded":e,children:i}),renderContent:({onToggle:a})=>(0,d.jsxs)(o.MenuGroup,{label:(0,e.__)("Animations","vayu-blocks"),children:[(0,d.jsx)(o.TextControl,{placeholder:(0,e.__)("Search","vayu-blocks"),value:v,onChange:e=>{r(e),m(!1)}}),(0,d.jsxs)("div",{className:"components-popover__items",children:[l.map((e=>(0,d.jsxs)(t.Fragment,{children:[""===v&&c.map((a=>a.value===e.value?(0,d.jsx)("div",{className:"o-animations-control__category",children:a.label}):"")),k(e,a)]}))),!_&&(0,d.jsx)("div",{children:(0,e.__)("Nothing found. Try searching for something else!","vayu-blocks")})]})]})})})},m="default",k=(e,a,l,o,n,t)=>{let s;switch(e){case"count":s="o-count-";break;case"typing":s="o-typing-";break;case m:s=""}const i=s+a,u="none"!==l?s+l:"";let c;n.className?(c=n.className,c=c.split(" "),c.find((e=>e===i))?c=c.join(" ").replace(i,u):(c.push(u),c=c.join(" ").trim())):c=u,c=c.replace(/\s+/g," "),""===c&&(c=void 0),t({className:c}),o?.()},p=(0,t.memo)((function({clientId:a,attributes:l,setAttributes:n}){(0,t.useEffect)((()=>{let e;if(l.className){e=l.className,e=e.split(" ");let a=Array.from(u).find((a=>e.find((e=>e===a.value))));const o=Array.from(v).find((a=>e.find((e=>e===a.value)))),n=Array.from(r).find((a=>e.find((e=>e===a.value))));c(a?a.value:"none"),y(o?o.value:"none"),h(n?n.value:"none"),I(a?a.label:"none")}}),[]);const[i,c]=(0,t.useState)("none"),[p,y]=(0,t.useState)("none"),[f,h]=(0,t.useState)("none"),[g,I]=(0,t.useState)((0,e.__)("None","vayu-blocks")),w=e=>{let o,t="none"!==e?e:"";if(l.className){o=l.className,o=o.split(" ");const e=o.find((e=>e===i));o.find((e=>"animated"===e))||o.push("animated"),e?o=o.join(" ").replace(i,t):(o.push(t),o=o.join(" "))}else o=`animated ${t}`;"none"===e&&(o=o.replace("animated","").replace(p,"").replace(f,""),y("none"),h("none")),o=o.replace(/\s+/g," ").trim(),""===o&&(o=void 0),c(e),n({className:o});let s=document.querySelector(`#block-${a} .animated`)||document.querySelector(`#block-${a}.animated`);s&&b.forEach((e=>{s.className.includes(e)&&s.addEventListener("animationend",(()=>{s.classList.remove(e),s.addEventListener("animationstart",(()=>{s.classList.remove(e)}))}))}))};return(0,t.useEffect)((()=>{void 0!==window?.blocksAnimation&&(window.blocksAnimation.removeAnimation=()=>w("none"))}),[]),(0,d.jsxs)(o.PanelBody,{title:(0,e.__)("Animations","vayu-blocks"),initialOpen:!1,children:[(0,d.jsxs)("div",{className:"o-animations-control",children:[(0,d.jsx)(_,{animationsList:u,updateAnimation:w,currentAnimationLabel:g,setCurrentAnimationLabel:I}),"none"!==i&&(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Delay","vayu-blocks"),value:p||"none",options:v,onChange:e=>k(m,p,e,(()=>y(e)),l,n)}),(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Speed","vayu-blocks"),value:f||"none",options:r,onChange:e=>k(m,f,e,(()=>h(e)),l,n)}),(0,d.jsx)(o.Button,{variant:"secondary",onClick:()=>{let e=l.className;e=e.replace(i,"o-replay"),n({className:e}),setTimeout((()=>n({className:e.replace("o-replay",i)})),100)},children:(0,e.__)("Replay Animation","vayu-blocks")})]})]}),(0,d.jsxs)("div",{className:"o-fp-wrap",children:[(0,s.applyFilters)("thenehunk-block.feedback","","animations"),(0,s.applyFilters)("vayu-blocks.poweredBy","")]})]})})),y=window.wp.primitives,f=(0,d.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(y.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),h=window.wp.richText,g=({value:a,contentRef:l})=>{(0,t.useEffect)((()=>{let e;if(s.className){e=s.className,e=e.split(" ");const a=Array.from(v).find((a=>e.find((e=>e===`o-count-${a.value}`)))),l=Array.from(r).find((a=>e.find((e=>e===`o-count-${a.value}`))));_(a?a.value:"none"),k(l?l.value:"none")}}),[]);const{clientId:n,attributes:s}=(0,i.useSelect)((e=>{const{getSelectedBlock:a}=e("core/block-editor"),l=a();return{clientId:l?.clientId,attributes:l?.attributes}}),[]),{updateBlockAttributes:u}=(0,i.useDispatch)("core/block-editor"),c=e=>u(n,e),[b,_]=(0,t.useState)("none"),[m,k]=(0,t.useState)("none"),p=(0,h.useAnchorRef)({ref:l,value:a,settings:w});return(0,d.jsxs)(o.Popover,{position:"bottom center right",placement:"bottom",noArrow:!1,anchor:p,anchorRef:p,focusOnMount:!1,className:"o-animation-popover",children:[(0,d.jsx)(o.__experimentalHeading,{level:4,children:(0,e.__)("Count Animation","vayu-blocks")}),(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Delay","vayu-blocks"),value:b||"none",options:v,onChange:c}),(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Speed","vayu-blocks"),value:m||"none",options:r,onChange:c})]})},I="vayu-blocks/count-animation",w={name:I,title:(0,e.__)("Count Animation","vayu-blocks"),tagName:"o-anim-count",className:null,edit:({isActive:a,value:o,onChange:n,contentRef:s})=>{const i=/^\$?[\d,]+(\.\d*)?$/;return(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(l.RichTextToolbarButton,{icon:f,title:(0,e.__)("Count Animation","vayu-blocks"),isDisabled:!a&&null===i.exec(o.text.substring(o.start,o.end)),onClick:()=>{(a||!a&&null!==i.exec(o.text.substring(o.start,o.end)))&&n((0,h.toggleFormat)(o,{type:I}))},isActive:a}),a&&(0,d.jsx)(g,{value:o,contentRef:s})]})}};(0,h.registerFormatType)(I,w);const x=({value:a,contentRef:l})=>{(0,t.useEffect)((()=>{let e;if(s.className){e=s.className,e=e.split(" ");const a=Array.from(v).find((a=>e.find((e=>e===`o-typing-${a.value}`)))),l=Array.from(r).find((a=>e.find((e=>e===`o-typing-${a.value}`))));_(a?a.value:"none"),p(l?l.value:"none")}}),[]);const{clientId:n,attributes:s}=(0,i.useSelect)((e=>{const{getSelectedBlock:a}=e("core/block-editor"),l=a();return{clientId:l?.clientId,attributes:l?.attributes}}),[]),{updateBlockAttributes:u}=(0,i.useDispatch)("core/block-editor"),c=e=>u(n,e),[b,_]=(0,t.useState)("none"),[m,p]=(0,t.useState)("none"),y=(0,h.useAnchorRef)({ref:l,value:a,settings:S});return(0,d.jsxs)(o.Popover,{position:"bottom center right",placement:"bottom",noArrow:!1,anchor:y,anchorRef:y,focusOnMount:!1,className:"o-animation-popover",children:[(0,d.jsx)(o.__experimentalHeading,{level:4,children:(0,e.__)("Typing Animation","vayu-blocks")}),(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Delay","vayu-blocks"),value:b||"none",options:v,onChange:e=>k("typing",b,e,(()=>_(e)),s,c)}),(0,d.jsx)(o.SelectControl,{label:(0,e.__)("Speed","vayu-blocks"),value:m||"none",options:r,onChange:e=>k("typing",m,e,(()=>p(e)),s,c)})]})},R="vayu-blocks/typing-animation",S={name:R,title:(0,e.__)("Typing Animation","vayu-blocks"),tagName:"o-anim-typing",className:null,edit:({isActive:a,value:o,onChange:n,contentRef:s})=>(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(l.RichTextToolbarButton,{icon:f,title:(0,e.__)("Typing Animation","vayu-blocks"),onClick:()=>{n((0,h.toggleFormat)(o,{type:R}))},isActive:a}),a&&(0,d.jsx)(x,{value:o,contentRef:s})]})};(0,h.registerFormatType)(R,S);const B=[""],L=(0,n.createHigherOrderComponent)((e=>o=>(0,a.hasBlockSupport)(o.name,"customClassName",!0)&&o.isSelected&&!B.includes(o.name)?(0,d.jsxs)(t.Fragment,{children:[(0,d.jsx)(e,{...o}),(0,d.jsx)(l.InspectorControls,{children:(0,d.jsx)(p,{...o})})]}):(0,d.jsx)(e,{...o})),"withInspectorControl");Boolean(window?.blocksAnimation?.hasVaYuBlock)?(0,s.addFilter)("vayu-blocks.blockTools","vayu-animations/with-inspector-controls",((l,n)=>{if((0,a.hasBlockSupport)(n.name,"customClassName",!0)&&!B.includes(n.name)){const a=!1;return(0,d.jsxs)(t.Fragment,{children:[l,(0,d.jsx)(o.__experimentalToolsPanelItem,{hasValue:()=>Boolean(n?.attributes?.className?.includes("animated")),label:(0,e.__)("Animations","vayu-blocks"),onDeselect:()=>window?.blocksAnimation?.removeAnimation(),isShownByDefault:a,children:(0,d.jsx)(p,{...n})})]})}return l}),118):(0,s.addFilter)("editor.BlockEdit","vayu-animations/with-inspector-controls",L,108)})();
(()=>{"use strict";var e,t={4719:()=>{const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.element,n=window.wp.data,i=window.wp.components,l=window.ReactJSXRuntime,s=["vayu-blocks/advance-container","vayu-blocks/advance-heading"],a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"vayu-blocks/pin","version":"0.2.0","title":"Pin","parent":["vayu-blocks/image-hotspot","vayu-blocks/image"],"category":"vayu-blocks","description":"The Pin block supports drag-and-drop, allowing users to easily select, drag, and place pins onto a image.","supports":{"reusable":true,"html":false,"align":["wide","full"],"layout":false,"multiple":true},"textdomain":"vayu-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js","attributes":{"id":{"type":"string"},"uniqueId":{"type":"string"},"x":{"type":"number","default":50},"y":{"type":"number","default":50},"tooltipDisplay":{"type":"string","default":"onHover"},"animation":{"type":"string","default":"none"},"triangleArrowColor":{"type":"string"}}}'),c=window.React;var p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u=c.createContext&&c.createContext(p),d=["attr","size","title"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},b.apply(this,arguments)}function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){var r,n,i,l;r=e,n=t,i=o[t],(n="symbol"==typeof(l=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n))?l:l+"")in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e){return e&&e.map(((e,t)=>c.createElement(e.tag,f({key:t},e.attr),g(e.child))))}function m(e){return t=>c.createElement(x,b({attr:f({},e.attr)},t),g(e.child))}function x(e){var t=t=>{var o,{attr:r,size:n,title:i}=e,l=function(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;o[r]=e[r]}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}(e,d),s=n||t.size||"1em";return t.className&&(o=t.className),e.className&&(o=(o?o+" ":"")+e.className),c.createElement("svg",b({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:o,style:f(f({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&c.createElement("title",null,i),e.children)};return void 0!==u?c.createElement(u.Consumer,null,(e=>t(e))):t(p)}function y(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"},child:[]}]})(e)}(0,e.registerBlockType)(a.name,{...a,icon:(0,l.jsx)(y,{style:{color:"#6c1bc3"}}),edit:function({attributes:e,setAttributes:a,clientId:c,uniqueId:p}){const{id:u}=e;e.uniqueId||a({uniqueId:c}),u||a({id:c});const{x:d=50,y:b=50,tooltipDisplay:v="onHover"}=e,[f,g]=(0,r.useState)(!1),m=(0,n.useSelect)((e=>{const{getBlockParents:t,getBlock:o}=e("core/block-editor"),r=t(c);if(r.length>0){const e=r.map((e=>o(e))).find((e=>"vayu-blocks/image"===e.name));return e?.clientId||null}return null}),[c]);(0,r.useEffect)((()=>{m&&a({parentBlock:m})}),[m]);const{insertBlock:x}=(0,n.useDispatch)("core/block-editor"),y=()=>{if(m){const e=wp.blocks.createBlock("vayu-blocks/pin",{x:50,y:50});x(e,void 0,m)}else console.error((0,t.__)("No parent Image block found to insert the pin.","vayu-blocks"))},h=()=>{wp.data.dispatch("core/block-editor").removeBlock(c)},k=(0,n.useSelect)((e=>{const{getBlock:t}=e("core/block-editor"),o=(t(c)?.innerBlocks||[]).find((e=>"vayu-blocks/advance-container"===e.name));return o?.attributes||{}}),[c]),w=k?.advBackground?.color||"#444942";(0,r.useEffect)((()=>{w&&w!==e.triangleArrowColor&&a({triangleArrowColor:w})}),[w]);const O=(0,r.useRef)();(0,r.useEffect)((()=>{if(O.current){const e=e=>{let t=e.querySelector(".triangle-arrow");t||(t=document.createElement("div"),t.className="triangle-arrow",e.appendChild(t)),e.getBoundingClientRect(),t.style.cssText=`\n                    position: absolute;\n                    width: 0;\n                    height: 0;\n                    border-left: 10px solid transparent;\n                    border-right: 10px solid transparent;\n                    border-top: 10px solid ${w};\n                `};O.current.querySelectorAll(".vayu-pin-first-wrap").forEach((t=>e(t)));const t=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.length>0&&t.addedNodes.forEach((t=>{t.classList?.contains("vayu-pin-first-wrap")&&e(t)}))}))}));return t.observe(O.current,{childList:!0,subtree:!0}),()=>{t.disconnect()}}console.warn("Block reference not found")}),[O,w]);const[j,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=document.querySelector(".vayu_blcoks_icon_main_blocks_icon"),t=e=>{if(e.stopPropagation(),e.target.closest(".vayu_blocks_icon_block_main_icon_svg svg")){const t=e.target.closest(".vayu_blocks_icon_block_main_icon_svg svg").closest(".vayu-pin-spot-wrapper7");t&&t.classList.toggle("is-tooltip-visible")}};return e&&e.addEventListener("click",t),()=>{e&&e.removeEventListener("click",t)}}),[]);const P=(0,o.useBlockProps)({ref:O,id:e.uniqueId,className:"vayu-pin-block",style:{position:"absolute",top:`${b}%`,left:`${d}%`,transform:"none",cursor:"move",zIndex:108},onMouseDown:e=>(()=>{g(!0);const e=e=>{const t=e.target.closest(".vb-image-wrapper");if(!t)return;const o=t.getBoundingClientRect(),r=(e.clientX-o.left)/o.width*100,n=(e.clientY-o.top)/o.height*100;a({x:r,y:n})},t=()=>{g(!1),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)})()});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.BlockControls,{children:[(0,l.jsx)(i.ToolbarButton,{icon:"plus",label:(0,t.__)("Add Pin","vayu-blocks"),onClick:y}),(0,l.jsx)(i.ToolbarButton,{icon:"trash",label:(0,t.__)("Remove This Pin","vayu-blocks"),onClick:h,isDestructive:!0})]}),(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(i.PanelBody,{title:(0,t.__)("Pin Settings","vayu-blocks"),children:[(0,l.jsx)(i.Button,{className:"add-pin",isSecondary:!0,onClick:y,children:(0,t.__)("Add Pin","vayu-blocks")}),(0,l.jsx)(i.Button,{className:"delete-pin",isDestructive:!0,isSecondary:!0,onClick:h,children:(0,t.__)("Remove This Pin","vayu-blocks")}),(0,l.jsx)(i.SelectControl,{label:(0,t.__)("Tooltip Display","vayu-blocks"),value:v,options:[{label:(0,t.__)("On Hover","vayu-blocks"),value:"onHover"},{label:(0,t.__)("On Click","vayu-blocks"),value:"onClick"},{label:(0,t.__)("Always Visible","vayu-blocks"),value:"alwaysVisible"}],onChange:e=>a({tooltipDisplay:e})})]})}),(0,l.jsx)("div",{...P,children:(0,l.jsx)("div",{className:`vayu-pin-spot-wrapper7 tooltip-${v}`,style:{position:"relative"},onMouseEnter:()=>{"onHover"===v&&_(!0)},onMouseLeave:()=>{"onHover"===v&&_(!1)},children:(0,l.jsx)(o.InnerBlocks,{allowedBlocks:s,template:[["vayu-blocks/advance-container",{contentWidthType:"fullwidth",fullcontentWidth:{Desktop:"63px",Tablet:"63px",Mobile:"63px"},advBackground:{type:"color",color:"#444942",image:{url:""},gradient:"linear-gradient(135deg,#0F2027 0%, #203A43 0%, #2C5364 100%)"},advPadding:{Desktop:{top:"5px",right:"12px",bottom:"5px",left:"12px"},Tablet:{top:"5px",right:"12px",bottom:"5px",left:"12px"},Mobile:{top:"5px",right:"12px",bottom:"5px",left:"12px"}},advBorderRadius:{Desktop:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"},Tablet:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"},Mobile:{topLeft:"5px",topRight:"5px",bottomLeft:"5px",bottomRight:"5px"}},advPosition:{value:"absolute",horiori:"right",offsetright:{Desktop:"-9px",Tablet:"-9px",Mobile:"-9px"},vertiori:"bottom",offsetbottom:{Desktop:"51px",Tablet:"51px",Mobile:"51px"},zIndex:{Desktop:283582,Tablet:283582,Mobile:283582}},className:"vayu-pin-first-wrap"},[["vayu-blocks/advance-heading",{headingColor:"#FFF",content:(0,t.__)("Tooltip","vayu-blocks"),fontSize:16,tag:"p",advMargin:{Desktop:{top:"0px",right:"0px",bottom:"0px",left:"0px"},Tablet:{top:"0px",right:"0px",bottom:"0px",left:"0px"},Mobile:{top:"0px",right:"0px",bottom:"0px",left:"0px"}},typography:{fonts:{},fontSize:{Desktop:"13px",Tablet:"13px",Mobile:"13px"},appearance:{},lineHeights:{},letterSpacing:{},decoration:{},orientation:{},letterCase:{}},align:{Desktop:"center",Tablet:"center",Mobile:"center"}}]]],["vayu-blocks/icon",{backgroundcolor:"#000",backgroundhoverColor:"#000",color:"#FFF",hoverColor:"#FFF",iconName:"wordpress-plusCircle",iconSize:{Desktop:"25px",Tablet:"25px",Mobile:"25px"},iconpadding:{Desktop:{top:"5px",right:"5px",bottom:"5px",left:"5px"},Tablet:{top:"5px",right:"5px",bottom:"5px",left:"5px"},Mobile:{top:"5px",right:"5px",bottom:"5px",left:"5px"}},iconsRadius:{Desktop:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"},Tablet:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"},Mobile:{topLeft:"50px",topRight:"50px",bottomLeft:"50px",bottomRight:"50px"}},className:"vayu-pin-second-wrap"}]],templateLock:!1})})})]})},save:({attributes:e})=>{const t=o.useBlockProps.save(),r=o.useInnerBlocksProps.save(t);return(0,l.jsx)("div",{...r})}})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,o,n,i)=>{if(!o){var l=1/0;for(p=0;p<e.length;p++){for(var[o,n,i]=e[p],s=!0,a=0;a<o.length;a++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](o[a])))?o.splice(a--,1):(s=!1,i<l&&(l=i));if(s){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[o,n,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={1275:0,4771:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[l,s,a]=o,c=0;if(l.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(a)var p=a(r)}for(t&&t(o);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(p)},o=globalThis.webpackChunkvayu_blocks=globalThis.webpackChunkvayu_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[4771],(()=>r(4719)));n=r.O(n)})();